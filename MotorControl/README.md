电机控制上位机系统
基于 CAN 通信协议的智能电机控制上位机软件

本项目是一个用于控制支持 CAN 通信的智能电机驱动器的上位机软件，支持电机状态读取、基本控制、参数设置和循环运动功能。

📋 功能特性
✅ 通过串口（SLCAN协议）与电机通信
✅ 支持多电机 ID 识别与控制
✅ 实时读取电流、速度、位置、限流值
✅ 电机使能/失能、校准、快速测试
✅ 目标位置、速度、电流设置
✅ 位置循环运动（支持记录与自动循环）
✅ 图形化界面，操作简单直观
🛠️ 硬件连接
使用 USB 线将电机驱动器连接至电脑。
驱动器支持 CAN 或串口通信，确保接线正确。
每台电机通过 拨码开关 设置唯一 ID（0-7）：
拨码开关 2、3、4 分别代表权重 1、2、4
例如：开关2打开，3、4关闭 → ID = 1
💻 软件使用说明
1. 连接设备
打开上位机软件。
从 “COM端口” 下拉框中选择正确的串口号（如 COM3）。
点击 “连接” 按钮建立连接。
✅ 连接成功后，按钮变为“断开连接”，串口选择框将被锁定。

2. 读取电机状态
在 “电机ID” 输入框中输入目标电机 ID。
点击 “读取信息” 按钮。
软件将显示：
电流 (A)
速度 (rev/s)
位置 (rev)
限流值 (A)
3. 基本控制
操作	说明
使能电机	通电，准备运行（点击后变为“失能电机”）
校准电机	执行编码器校准程序
转一圈	控制电机旋转一整圈
一圈每秒	控制电机以 1 rev/s 的速度运行
1A电流	控制电机以 1A 电流运行
马上停止	立即停止电机运动
4. 参数设置
在对应输入框中输入目标值，点击右侧 “设置” 按钮：

设置位置：运动到指定圈数
设置速度：以指定速度运行（rev/s）
设置电流：以指定电流运行（A）
设置限流：设置电流保护上限（A）
5. 位置循环运动
记录位置点：
手动移动电机到目标位置。
点击 “记录当前位置”，位置将添加到列表。
重复操作，记录多个点。
启动循环：
点击 “循环运动”，电机将按顺序循环运动到每个记录点。
停止循环：
点击 “马上停止” 可随时中断。
📄 通信协议（CAN）
命令码	功能	数据格式
0x01	使能/禁能	uint32_t
0x02	校准	-
0x03	设置电流	float (A)
0x04	设置速度	float (rev/s)
0x05	设置位置	float (rev) + ACK
0x21~0x26	查询状态	返回 float + 状态
详细协议请参考 CAN通信协议文档